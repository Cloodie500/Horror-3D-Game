# Unblocked Horror 3D Game
Instructions are in the game itself. Try it now ðŸ‘¿
Copy the entire link below and paste it in your search bar. It is unblocked, if that's what you're wondering.
This is a data:image URL so it will never be blocked. ðŸ˜ˆ


data:text/html;charset=utf-8,%3C!DOCTYPE%20html%3E%0A%3Chtml%20lang%3D%22en%22%3E%0A%3Chead%3E%0A%20%20%20%20%3Cmeta%20charset%3D%22UTF-8%22%3E%0A%20%20%20%20%3Cmeta%20name%3D%22viewport%22%20content%3D%22width%3Ddevice-width%2C%20initial-scale%3D1.0%22%3E%0A%20%20%20%20%3Ctitle%3E3D%20Horror%20Maze%20Game%20-%20Doors%20Figure%20Inspired%3C%2Ftitle%3E%0A%20%20%20%20%3Cstyle%3E%0A%20%20%20%20%20%20%20%20body%20%7B%20margin%3A%200%3B%20overflow%3A%20hidden%3B%20%7D%0A%20%20%20%20%20%20%20%20canvas%20%7B%20display%3A%20block%3B%20%7D%0A%20%20%20%20%20%20%20%20%23instructions%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20position%3A%20absolute%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20top%3A%2010px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20left%3A%2010px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20color%3A%20white%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20font-family%3A%20Arial%2C%20sans-serif%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20font-size%3A%2014px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20background-color%3A%20rgba(0%2C%200%2C%200%2C%200.5)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20padding%3A%2010px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20border-radius%3A%205px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20z-index%3A%201%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%23map%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20position%3A%20absolute%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20top%3A%2050%25%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20left%3A%2050%25%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20transform%3A%20translate(-50%25%2C%20-50%25)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20background-color%3A%20rgba(0%2C%200%2C%200%2C%200.7)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20border%3A%202px%20solid%20white%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20display%3A%20none%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20z-index%3A%201%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%23batteryBarContainer%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20position%3A%20absolute%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20top%3A%2010px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20right%3A%2010px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20width%3A%20150px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20height%3A%2020px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20background-color%3A%20rgba(0%2C%200%2C%200%2C%200.5)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20border%3A%201px%20solid%20white%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20z-index%3A%201%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%23batteryBar%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20width%3A%20100%25%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20height%3A%20100%25%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20background-color%3A%20green%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%23staminaBarContainer%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20position%3A%20absolute%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20top%3A%2040px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20right%3A%2010px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20width%3A%20150px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20height%3A%2020px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20background-color%3A%20rgba(0%2C%200%2C%200%2C%200.5)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20border%3A%201px%20solid%20white%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20z-index%3A%201%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%23staminaBar%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20width%3A%20100%25%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20height%3A%20100%25%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20background-color%3A%20yellow%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%3C%2Fstyle%3E%0A%3C%2Fhead%3E%0A%3Cbody%3E%0A%20%20%20%20%3Cdiv%20id%3D%22instructions%22%3E%0A%20%20%20%20%20%20%20%20Use%20WASD%20to%20move%2C%20Mouse%20to%20look%20around%3Cbr%3E%0A%20%20%20%20%20%20%20%20Press%20F%20to%20toggle%20flashlight%3Cbr%3E%0A%20%20%20%20%20%20%20%20Press%20C%20to%20view%20map%3Cbr%3E%0A%20%20%20%20%20%20%20%20Press%20Shift%20to%20sprint%3Cbr%3E%0A%20%20%20%20%20%20%20%20Navigate%20the%20maze%2C%20find%20the%20glowing%20door%2C%20and%20escape%20the%20Figure!...%0A%20%20%20%20%3C%2Fdiv%3E%0A%20%20%20%20%3Cdiv%20id%3D%22batteryBarContainer%22%3E%0A%20%20%20%20%20%20%20%20%3Cdiv%20id%3D%22batteryBar%22%3E%3C%2Fdiv%3E%0A%20%20%20%20%3C%2Fdiv%3E%0A%20%20%20%20%3Cdiv%20id%3D%22staminaBarContainer%22%3E%0A%20%20%20%20%20%20%20%20%3Cdiv%20id%3D%22staminaBar%22%3E%3C%2Fdiv%3E%0A%20%20%20%20%3C%2Fdiv%3E%0A%20%20%20%20%3Ccanvas%20id%3D%22map%22%3E%3C%2Fcanvas%3E%0A%20%20%20%20%3Cscript%20src%3D%22https%3A%2F%2Fcdnjs.cloudflare.com%2Fajax%2Flibs%2Fthree.js%2Fr128%2Fthree.min.js%22%3E%3C%2Fscript%3E%0A%20%20%20%20%3Cscript%3E%0A%20%20%20%20%20%20%20%20const%20scene%20%3D%20new%20THREE.Scene()%3B%20const%20camera%20%3D%20new%20THREE.PerspectiveCamera(75%2C%20window.innerWidth%20%2F%20window.innerHeight%2C%200.1%2C%201000)%3B%20const%20renderer%20%3D%20new%20THREE.WebGLRenderer(%7B%20antialias%3A%20true%20%7D)%3B%20renderer.setSize(window.innerWidth%2C%20window.innerHeight)%3B%20document.body.appendChild(renderer.domElement)%3B%20renderer.setAnimationLoop(animate)%3B%20scene.background%20%3D%20new%20THREE.Color(0x000000)%3B%20const%20fog%20%3D%20new%20THREE.FogExp2(0x000000%2C%200.015)%3B%20scene.fog%20%3D%20fog%3B%20const%20ambientLight%20%3D%20new%20THREE.AmbientLight(0x404040%2C%200.2)%3B%20scene.add(ambientLight)%3B%20const%20moonLight%20%3D%20new%20THREE.DirectionalLight(0x6666ff%2C%200.3)%3B%20moonLight.position.set(5%2C%2010%2C%207)%3B%20scene.add(moonLight)%3B%20const%20floorGeometry%20%3D%20new%20THREE.PlaneGeometry(100%2C%20100)%3B%20const%20floorMaterial%20%3D%20new%20THREE.MeshStandardMaterial(%7B%20color%3A%200x333333%20%7D)%3B%20const%20floor%20%3D%20new%20THREE.Mesh(floorGeometry%2C%20floorMaterial)%3B%20floor.rotation.x%20%3D%20-Math.PI%20%2F%202%3B%20scene.add(floor)%3B%20const%20figureGeometry%20%3D%20new%20THREE.BoxGeometry(2%2C%204%2C%201)%3B%20const%20figureMaterial%20%3D%20new%20THREE.MeshStandardMaterial(%7B%20color%3A%200xff0000%20%7D)%3B%20const%20figure%20%3D%20new%20THREE.Mesh(figureGeometry%2C%20figureMaterial)%3B%20figure.position.set(20%2C%202%2C%2020)%3B%20scene.add(figure)%3B%20const%20boxGeometry%20%3D%20new%20THREE.BoxGeometry(4%2C%204%2C%204)%3B%20const%20boxMaterial%20%3D%20new%20THREE.MeshStandardMaterial(%7B%20color%3A%200x8B4513%20%7D)%3B%20const%20boxes%20%3D%20%5B%5D%3B%20function%20createBox(x%2C%20y%2C%20z)%20%7B%20const%20box%20%3D%20new%20THREE.Mesh(boxGeometry%2C%20boxMaterial)%3B%20box.position.set(x%2C%20y%2C%20z)%3B%20scene.add(box)%3B%20boxes.push(box)%3B%20%7D%20const%20mazeSize%20%3D%2025%3B%20const%20boxSize%20%3D%204%3B%20const%20maze%20%3D%20%5B%5D%3B%20for%20(let%20x%20%3D%200%3B%20x%20%3C%20mazeSize%3B%20x%2B%2B)%20%7B%20maze%5Bx%5D%20%3D%20%5B%5D%3B%20for%20(let%20z%20%3D%200%3B%20z%20%3C%20mazeSize%3B%20z%2B%2B)%20%7B%20maze%5Bx%5D%5Bz%5D%20%3D%201%3B%20%7D%20%7D%20function%20carvePath(x%2C%20z)%20%7B%20const%20directions%20%3D%20%5B%20%5B0%2C%20-1%5D%2C%20%5B1%2C%200%5D%2C%20%5B0%2C%201%5D%2C%20%5B-1%2C%200%5D%20%5D.sort(()%20%3D%3E%20Math.random()%20-%200.5)%3B%20for%20(const%20%5Bdx%2C%20dz%5D%20of%20directions)%20%7B%20const%20nx%20%3D%20x%20%2B%20dx%20*%202%3B%20const%20nz%20%3D%20z%20%2B%20dz%20*%202%3B%20if%20(nx%20%3E%3D%200%20%26%26%20nx%20%3C%20mazeSize%20%26%26%20nz%20%3E%3D%200%20%26%26%20nz%20%3C%20mazeSize%20%26%26%20maze%5Bnx%5D%5Bnz%5D%20%3D%3D%3D%201)%20%7B%20maze%5Bx%20%2B%20dx%5D%5Bz%20%2B%20dz%5D%20%3D%200%3B%20maze%5Bnx%5D%5Bnz%5D%20%3D%200%3B%20carvePath(nx%2C%20nz)%3B%20%7D%20%7D%20%7D%20carvePath(1%2C%201)%3B%20for%20(let%20x%20%3D%200%3B%20x%20%3C%20mazeSize%3B%20x%2B%2B)%20%7B%20for%20(let%20z%20%3D%200%3B%20z%20%3C%20mazeSize%3B%20z%2B%2B)%20%7B%20if%20(maze%5Bx%5D%5Bz%5D%20%3D%3D%3D%201)%20%7B%20createBox((x%20-%20mazeSize%20%2F%202)%20*%20boxSize%2C%202%2C%20(z%20-%20mazeSize%20%2F%202)%20*%20boxSize)%3B%20%7D%20%7D%20%7D%20let%20doorX%2C%20doorZ%3B%20do%20%7B%20doorX%20%3D%20Math.floor(Math.random()%20*%20mazeSize)%3B%20doorZ%20%3D%20Math.floor(Math.random()%20*%20mazeSize)%3B%20%7D%20while%20(maze%5BdoorX%5D%5BdoorZ%5D%20%3D%3D%3D%201%20%7C%7C%20(doorX%20%3D%3D%3D%201%20%26%26%20doorZ%20%3D%3D%3D%201))%3B%20const%20doorXPos%20%3D%20(doorX%20-%20mazeSize%20%2F%202)%20*%20boxSize%3B%20const%20doorZPos%20%3D%20(doorZ%20-%20mazeSize%20%2F%202)%20*%20boxSize%3B%20const%20doorGeometry%20%3D%20new%20THREE.BoxGeometry(4%2C%206%2C%200.5)%3B%20const%20doorMaterial%20%3D%20new%20THREE.MeshStandardMaterial(%7B%20color%3A%200xffffff%2C%20emissive%3A%200xffffff%2C%20emissiveIntensity%3A%200.5%20%7D)%3B%20const%20door%20%3D%20new%20THREE.Mesh(doorGeometry%2C%20doorMaterial)%3B%20door.position.set(doorXPos%2C%203%2C%20doorZPos)%3B%20scene.add(door)%3B%20const%20doorLight%20%3D%20new%20THREE.PointLight(0xffffff%2C%201%2C%2010)%3B%20doorLight.position.set(doorXPos%2C%203%2C%20doorZPos)%3B%20scene.add(doorLight)%3B%20const%20lightColor%20%3D%200xffffff%3B%20const%20lightIntensity%20%3D%200.5%3B%20const%20lightDistance%20%3D%2050%3B%20const%20lightDecay%20%3D%202.0%3B%20const%20light%20%3D%20new%20THREE.PointLight(lightColor%2C%20lightIntensity%2C%20lightDistance%2C%20lightDecay)%3B%20for%20(let%20i%20%3D%200%3B%20i%20%3C%20mazeSize%3B%20i%20%2B%3D%203)%20%7B%20for%20(let%20j%20%3D%200%3B%20j%20%3C%20mazeSize%3B%20j%20%2B%3D%203)%20%7B%20const%20light%20%3D%20new%20THREE.PointLight(0xffffff%2C%200.3%2C%2030)%3B%20light.position.set((i%20-%20mazeSize%20%2F%202)%20*%20boxSize%2C%207%2C%20(j%20-%20mazeSize%20%2F%202)%20*%20boxSize)%3B%20scene.add(light)%3B%20%7D%20%7D%20const%20player%20%3D%20new%20THREE.Object3D()%3B%20player.add(camera)%3B%20scene.add(player)%3B%20let%20startX%2C%20startZ%3B%20do%20%7B%20startX%20%3D%20Math.floor(Math.random()%20*%20mazeSize)%3B%20startZ%20%3D%20Math.floor(Math.random()%20*%20mazeSize)%3B%20%7D%20while%20(maze%5BstartX%5D%5BstartZ%5D%20%3D%3D%3D%201)%3B%20player.position.set((startX%20-%20mazeSize%20%2F%202)%20*%20boxSize%2C%202%2C%20(startZ%20-%20mazeSize%20%2F%202)%20*%20boxSize)%3B%20const%20moveSpeed%20%3D%200.1%3B%20const%20sprintSpeed%20%3D%200.2%3B%20let%20currentSpeed%20%3D%20moveSpeed%3B%20let%20canSprint%20%3D%20true%3B%20const%20keys%20%3D%20%7B%7D%3B%20document.addEventListener('keydown'%2C%20(event)%20%3D%3E%20%7B%20keys%5Bevent.code%5D%20%3D%20true%3B%20%7D)%3B%20document.addEventListener('keyup'%2C%20(event)%20%3D%3E%20%7B%20keys%5Bevent.code%5D%20%3D%20false%3B%20%7D)%3B%20let%20pitch%20%3D%200%3B%20let%20yaw%20%3D%200%3B%20document.addEventListener('mousemove'%2C%20(event)%20%3D%3E%20%7B%20if%20(document.pointerLockElement%20%3D%3D%3D%20renderer.domElement)%20%7B%20const%20sensitivity%20%3D%200.002%3B%20yaw%20-%3D%20event.movementX%20*%20sensitivity%3B%20pitch%20-%3D%20event.movementY%20*%20sensitivity%3B%20pitch%20%3D%20Math.max(-Math.PI%20%2F%202%2C%20Math.min(Math.PI%20%2F%202%2C%20pitch))%3B%20%7D%20%7D)%3B%20renderer.domElement.addEventListener('click'%2C%20()%20%3D%3E%20%7B%20renderer.domElement.requestPointerLock()%3B%20%7D)%3B%20const%20flashlight%20%3D%20new%20THREE.SpotLight(0xffffff%2C%201%2C%2050%2C%20Math.PI%20%2F%204%2C%200.5)%3B%20flashlight.position.set(0%2C%200%2C%200)%3B%20player.add(flashlight)%3B%20flashlight.target.position.set(0%2C%200%2C%20-1)%3B%20player.add(flashlight.target)%3B%20let%20flashlightOn%20%3D%20false%3B%20let%20batteryLevel%20%3D%20100%3B%20const%20batteryDrainRate%20%3D%20100%20%2F%20200%3B%20document.addEventListener('keydown'%2C%20(event)%20%3D%3E%20%7B%20if%20(event.code%20%3D%3D%3D%20'KeyF')%20%7B%20flashlightOn%20%3D%20!flashlightOn%3B%20flashlight.intensity%20%3D%20flashlightOn%20%26%26%20batteryLevel%20%3E%200%20%3F%201%20%3A%200%3B%20%7D%20%7D)%3B%20let%20staminaLevel%20%3D%20100%3B%20const%20staminaDrainRate%20%3D%20100%20%2F%205%3B%20const%20staminaRegenRate%20%3D%20100%20%2F%2010%3B%20document.addEventListener('keydown'%2C%20(event)%20%3D%3E%20%7B%20if%20(event.code%20%3D%3D%3D%20'ShiftLeft'%20%26%26%20canSprint)%20%7B%20currentSpeed%20%3D%20sprintSpeed%3B%20%7D%20%7D)%3B%20document.addEventListener('keyup'%2C%20(event)%20%3D%3E%20%7B%20if%20(event.code%20%3D%3D%3D%20'ShiftLeft')%20%7B%20currentSpeed%20%3D%20moveSpeed%3B%20%7D%20%7D)%3B%20const%20batteryGeometry%20%3D%20new%20THREE.BoxGeometry(1%2C%201%2C%201)%3B%20const%20batteryMaterial%20%3D%20new%20THREE.MeshStandardMaterial(%7B%20color%3A%200x00ff00%20%7D)%3B%20const%20batteries%20%3D%20%5B%5D%3B%20for%20(let%20i%20%3D%200%3B%20i%20%3C%2020%3B%20i%2B%2B)%20%7B%20let%20batteryX%2C%20batteryZ%3B%20do%20%7B%20batteryX%20%3D%20Math.floor(Math.random()%20*%20mazeSize)%3B%20batteryZ%20%3D%20Math.floor(Math.random()%20*%20mazeSize)%3B%20%7D%20while%20(maze%5BbatteryX%5D%5BbatteryZ%5D%20%3D%3D%3D%201)%3B%20const%20battery%20%3D%20new%20THREE.Mesh(batteryGeometry%2C%20batteryMaterial)%3B%20battery.position.set((batteryX%20-%20mazeSize%20%2F%202)%20*%20boxSize%2C%200.5%2C%20(batteryZ%20-%20mazeSize%20%2F%202)%20*%20boxSize)%3B%20scene.add(battery)%3B%20batteries.push(battery)%3B%20%7D%20function%20checkCollision(obj1%2C%20obj2)%20%7B%20const%20distance%20%3D%20obj1.position.distanceTo(obj2.position)%3B%20return%20distance%20%3C%202%3B%20%7D%20function%20checkBoxCollision(position)%20%7B%20for%20(const%20box%20of%20boxes)%20%7B%20const%20distance%20%3D%20position.distanceTo(box.position)%3B%20if%20(distance%20%3C%202)%20%7B%20return%20true%3B%20%7D%20%7D%20return%20false%3B%20%7D%20function%20checkBatteryCollision()%20%7B%20for%20(let%20i%20%3D%20batteries.length%20-%201%3B%20i%20%3E%3D%200%3B%20i--)%20%7B%20if%20(checkCollision(player%2C%20batteries%5Bi%5D))%20%7B%20scene.remove(batteries%5Bi%5D)%3B%20batteries.splice(i%2C%201)%3B%20batteryLevel%20%3D%20100%3B%20%7D%20%7D%20%7D%20const%20mapCanvas%20%3D%20document.getElementById('map')%3B%20const%20mapCtx%20%3D%20mapCanvas.getContext('2d')%3B%20const%20mapSize%20%3D%20300%3B%20mapCanvas.width%20%3D%20mapSize%3B%20mapCanvas.height%20%3D%20mapSize%3B%20function%20drawMap()%20%7B%20mapCtx.fillStyle%20%3D%20'black'%3B%20mapCtx.fillRect(0%2C%200%2C%20mapSize%2C%20mapSize)%3B%20const%20cellSize%20%3D%20mapSize%20%2F%20mazeSize%3B%20for%20(let%20x%20%3D%200%3B%20x%20%3C%20mazeSize%3B%20x%2B%2B)%20%7B%20for%20(let%20z%20%3D%200%3B%20z%20%3C%20mazeSize%3B%20z%2B%2B)%20%7B%20if%20(maze%5Bx%5D%5Bz%5D%20%3D%3D%3D%201)%20%7B%20mapCtx.fillStyle%20%3D%20'white'%3B%20mapCtx.fillRect(x%20*%20cellSize%2C%20z%20*%20cellSize%2C%20cellSize%2C%20cellSize)%3B%20%7D%20%7D%20%7D%20mapCtx.fillStyle%20%3D%20'red'%3B%20mapCtx.fillRect(doorX%20*%20cellSize%2C%20doorZ%20*%20cellSize%2C%20cellSize%2C%20cellSize)%3B%20const%20playerX%20%3D%20Math.floor(player.position.x%20%2F%20boxSize%20%2B%20mazeSize%20%2F%202)%3B%20const%20playerZ%20%3D%20Math.floor(player.position.z%20%2F%20boxSize%20%2B%20mazeSize%20%2F%202)%3B%20mapCtx.fillStyle%20%3D%20'blue'%3B%20mapCtx.fillRect(playerX%20*%20cellSize%2C%20playerZ%20*%20cellSize%2C%20cellSize%2C%20cellSize)%3B%20mapCtx.fillStyle%20%3D%20'lime'%3B%20for%20(const%20battery%20of%20batteries)%20%7B%20const%20batteryX%20%3D%20Math.floor(battery.position.x%20%2F%20boxSize%20%2B%20mazeSize%20%2F%202)%3B%20const%20batteryZ%20%3D%20Math.floor(battery.position.z%20%2F%20boxSize%20%2B%20mazeSize%20%2F%202)%3B%20mapCtx.fillRect(batteryX%20*%20cellSize%2C%20batteryZ%20*%20cellSize%2C%20cellSize%2C%20cellSize)%3B%20%7D%20%7D%20let%20mapVisible%20%3D%20false%3B%20document.addEventListener('keydown'%2C%20(event)%20%3D%3E%20%7B%20if%20(event.code%20%3D%3D%3D%20'KeyC')%20%7B%20mapVisible%20%3D%20!mapVisible%3B%20mapCanvas.style.display%20%3D%20mapVisible%20%3F%20'block'%20%3A%20'none'%3B%20%7D%20%7D)%3B%20function%20animate()%20%7B%20const%20moveVector%20%3D%20new%20THREE.Vector3()%3B%20if%20(keys%5B'KeyW'%5D)%20moveVector.z%20-%3D%20currentSpeed%3B%20if%20(keys%5B'KeyS'%5D)%20moveVector.z%20%2B%3D%20currentSpeed%3B%20if%20(keys%5B'KeyA'%5D)%20moveVector.x%20-%3D%20currentSpeed%3B%20if%20(keys%5B'KeyD'%5D)%20moveVector.x%20%2B%3D%20currentSpeed%3B%20moveVector.applyAxisAngle(new%20THREE.Vector3(0%2C%201%2C%200)%2C%20yaw)%3B%20const%20newPosition%20%3D%20player.position.clone().add(moveVector)%3B%20if%20(!checkBoxCollision(newPosition))%20%7B%20player.position.copy(newPosition)%3B%20%7D%20player.rotation.y%20%3D%20yaw%3B%20camera.rotation.x%20%3D%20pitch%3B%20const%20direction%20%3D%20new%20THREE.Vector3().subVectors(player.position%2C%20figure.position).normalize()%3B%20figure.position.add(direction.multiplyScalar(0.08))%3B%20figure.lookAt(player.position)%3B%20if%20(checkCollision(player%2C%20figure))%20%7B%20alert('Game%20Over!%20The%20Figure%20caught%20you!')%3B%20player.position.set(0%2C%202%2C%200)%3B%20figure.position.set(20%2C%202%2C%2020)%3B%20%7D%20if%20(checkCollision(player%2C%20door))%20%7B%20alert('Congratulations!%20You%20escaped!')%3B%20player.position.set(0%2C%202%2C%200)%3B%20figure.position.set(20%2C%202%2C%2020)%3B%20%7D%20checkBatteryCollision()%3B%20if%20(flashlightOn)%20%7B%20batteryLevel%20-%3D%20batteryDrainRate%20%2F%2060%3B%20batteryLevel%20%3D%20Math.max(0%2C%20batteryLevel)%3B%20if%20(batteryLevel%20%3C%3D%200)%20%7B%20flashlightOn%20%3D%20false%3B%20flashlight.intensity%20%3D%200%3B%20%7D%20%7D%20const%20batteryBar%20%3D%20document.getElementById('batteryBar')%3B%20batteryBar.style.width%20%3D%20%60%24%7BbatteryLevel%7D%25%60%3B%20batteryBar.style.backgroundColor%20%3D%20batteryLevel%20%3E%2020%20%3F%20'green'%20%3A%20'red'%3B%20flashlight.intensity%20%3D%20flashlightOn%20%26%26%20batteryLevel%20%3E%200%20%3F%201%20%3A%200%3B%20if%20(keys%5B'ShiftLeft'%5D%20%26%26%20canSprint)%20%7B%20staminaLevel%20-%3D%20staminaDrainRate%20%2F%2060%3B%20staminaLevel%20%3D%20Math.max(0%2C%20staminaLevel)%3B%20if%20(staminaLevel%20%3C%3D%2020)%20%7B%20canSprint%20%3D%20false%3B%20currentSpeed%20%3D%20moveSpeed%3B%20%7D%20%7D%20else%20%7B%20staminaLevel%20%2B%3D%20staminaRegenRate%20%2F%2060%3B%20staminaLevel%20%3D%20Math.min(100%2C%20staminaLevel)%3B%20if%20(staminaLevel%20%3E%3D%2050)%20%7B%20canSprint%20%3D%20true%3B%20%7D%20%7D%20const%20staminaBar%20%3D%20document.getElementById('staminaBar')%3B%20staminaBar.style.width%20%3D%20%60%24%7BstaminaLevel%7D%25%60%3B%20staminaBar.style.backgroundColor%20%3D%20canSprint%20%7C%7C%20staminaLevel%20%3E%3D%2050%20%3F%20'yellow'%20%3A%20'red'%3B%20if%20(mapVisible)%20%7B%20drawMap()%3B%20%7D%20renderer.render(scene%2C%20camera)%3B%20%7D%20window.addEventListener('resize'%2C%20()%20%3D%3E%20%7B%20camera.aspect%20%3D%20window.innerWidth%20%2F%20window.innerHeight%3B%20camera.updateProjectionMatrix()%3B%20renderer.setSize(window.innerWidth%2C%20window.innerHeight)%3B%20%7D)%3B%0A%20%20%20%20%3C%2Fscript%3E%0A%3C%2Fbody%3E%0A%3C%2Fhtml%3E
